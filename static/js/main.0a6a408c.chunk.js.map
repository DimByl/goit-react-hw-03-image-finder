{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Notice/Notice.module.scss","components/ErrorNotice/ErrorNotice.module.scss","components/Searchbar/Searchbar.module.scss","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Notice/Notice.jsx","components/ErrorNotice/ErrorNotice.jsx","components/Modal/Modal.jsx","services/imagesApi.js","App.js","index.js","components/Modal/Modal.module.scss"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","event","preventDefault","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","placeholder","value","onChange","currentTarget","ImageGalleryItem","url","tags","largeImageURL","src","alt","ImageGalleryItem__image","ImageGallery","images","onClick","map","id","webformatURL","Button","onButtonClick","Loader","color","height","width","timeout","Notice","notice","ErrorNotice","error","message","modalRoot","document","querySelector","Modal","largeImageUrl","largeImageAlt","onClose","useEffect","onEscHandler","code","window","addEventListener","removeEventListener","createPortal","Overlay","target","ModalImg","searchQuery","currentPage","pageSize","axios","get","then","responce","data","App","setImages","setCurrentPage","setSearchQuery","loading","setLoading","setNotice","renderBtn","setRenderBtn","setError","showModal","setShowModal","setLargeImageUrl","setLargeImageAlt","options","imagesApi","hits","totalHits","length","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","fetchImages","shouldRenderBtn","nodeName","dataset","largeImage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0a6a408c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2QOkj\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__HwI3k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__20ymh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3dM9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notice\":\"Notice_Notice__2sici\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorNotice\":\"ErrorNotice_ErrorNotice__3ngjd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__28Lct\",\"SearchForm\":\"Searchbar_SearchForm__1A69o\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3yr8A\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3Mmom\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2Pckq\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.scss';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = event => {\r\n    const { value } = event.currentTarget;\r\n\r\n    setQuery(value);\r\n  };\r\n\r\n  const handleFormSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    onSubmit(query);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleFormSubmit}>\r\n        <button type=\"submit\" className={styles.SearchForm__button}>\r\n          <span className={styles.SearchForm__button__label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchForm__input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.scss';\r\n\r\nconst ImageGalleryItem = ({ url, tags, largeImageURL }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={url}\r\n      alt={tags}\r\n      className={styles.ImageGalleryItem__image}\r\n      data-large-image={largeImageURL}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem.jsx';\r\nimport styles from './ImageGallery.module.scss';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <ul className={styles.ImageGallery} onClick={onClick}>\r\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        url={webformatURL}\r\n        tags={tags}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = ({ onButtonClick }) => {\r\n  return (\r\n          <button className={styles.Button} type=\"button\" onClick={onButtonClick}>\r\n        Load more\r\n      </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onButtonClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\nimport styles from './Loader.scss';\r\n\r\nexport default function Loader () {\r\n    return (\r\n        <div className={styles.Loader}>\r\n            <LoaderSpinner\r\n                type=\"Puff\"\r\n                color=\"#00BFFF\"\r\n                height={100}\r\n                width={100}\r\n                timeout={5000}\r\n            />\r\n        </div>\r\n        \r\n    );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Notice.module.scss';\r\n\r\nconst Notice = ({ notice }) =>\r\n  notice && <p className={styles.Notice}>{notice}</p>;\r\n\r\nNotice.propTypes = {\r\n  notice: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notice;","import PropTypes from 'prop-types';\r\nimport styles from './ErrorNotice.module.scss';\r\n\r\nconst ErrorNotice = ({ error }) =>\r\n  error && <p className={styles.ErrorNotice}>{error.message}</p>;\r\n\r\nErrorNotice.propTypes = {\r\n  error: PropTypes.object,\r\n};\r\n\r\nexport default ErrorNotice;","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ largeImageUrl, largeImageAlt, onClose }) => {\r\n  useEffect(() => {\r\n    const onEscHandler = event => {\r\n      if (event.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', onEscHandler);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', onEscHandler);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\r\n      <div className={styles.Modal}>\r\n        <img\r\n          className={styles.ModalImg}\r\n          src={largeImageUrl}\r\n          alt={largeImageAlt}\r\n        />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  largeImageUrl: PropTypes.string,\r\n  largeImageAlt: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\n\nconst API_KEY = \"22552656-a52d92f58f7bf96e8efb5df9f\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst fetchGetImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) =>\n  axios\n    .get(\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then((responce) => responce.data);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { fetchGetImages };\n","import { useState, useEffect } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader/Loader\";\nimport Notice from \"./components/Notice/Notice\";\nimport ErrorNotice from \"./components/ErrorNotice/ErrorNotice\";\nimport Modal from \"./components/Modal/Modal\";\nimport \"./App.scss\";\n\nimport imagesApi from \"./services/imagesApi\";\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [notice, setNotice] = useState(\"\");\n  const [renderBtn, setRenderBtn] = useState(true);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageUrl, setLargeImageUrl] = useState(\"\");\n  const [largeImageAlt, setLargeImageAlt] = useState(\"\");\n\n  const pageSize = 12;\n\n  useEffect(() => {\n    const fetchImages = () => {\n      const options = { searchQuery, currentPage, pageSize };\n\n      setLoading(true);\n\n      imagesApi\n        .fetchGetImages(options)\n        .then(({ hits, totalHits }) => {\n          if (totalHits === 0) {\n            setNotice(`Images with '${searchQuery}' not found!`);\n            return;\n          }\n\n          if (totalHits <= pageSize || hits.length < pageSize) {\n            setRenderBtn(false);\n          }\n\n          setImages((prev) => [...prev, ...hits]);\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        })\n        .catch((error) => setError(error))\n        .finally(() => setLoading(false));\n    };\n\n    searchQuery ? fetchImages() : setImages([]);\n  }, [currentPage, searchQuery]);\n\n  const handleButtonLoadMoreClick = () => {\n    setCurrentPage((prev) => prev + 1);\n  };\n\n  const handleChangeValue = (query) => {\n    if (searchQuery !== query) {\n      setNotice(\"\");\n      setRenderBtn(true);\n      setError(null);\n      setSearchQuery(query);\n      setCurrentPage(1);\n      setImages([]);\n    }\n  };\n\n  const handleModal = (event) => {\n    if (event.target.nodeName !== \"IMG\") {\n      return;\n    }\n\n    setLargeImageUrl(event.target.dataset.largeImage);\n    setLargeImageAlt(event.target.alt);\n\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setLargeImageUrl(\"\");\n    setLargeImageAlt(\"\");\n  };\n\n  const shouldRenderBtn = images.length > 0 && renderBtn && !loading;\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleChangeValue} />\n      <ErrorNotice error={error} />\n      <Notice notice={notice} />\n      <ImageGallery images={images} onClick={handleModal} />\n\n      {showModal && (\n        <Modal\n          largeImageUrl={largeImageUrl}\n          largeImageAlt={largeImageAlt}\n          onClose={closeModal}\n        />\n      )}\n\n      <Loader loading={loading} />\n      <Button\n        onButtonClick={handleButtonLoadMoreClick}\n        shouldRenderBtn={shouldRenderBtn}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3hvZg\",\"Modal\":\"Modal_Modal__1zj_K\"};"],"sourceRoot":""}